[workspace]
resolver = "2"

members = [
    "modules/axalloc",
    "modules/alt_axalloc",
    "modules/axconfig",
    "modules/axdisplay",
    "modules/axdriver",
    "modules/axinput",
    "modules/axfs",
    "modules/axhal",
    "modules/axlog",
    "modules/axmm",
    "modules/axdma",
    "modules/axnet",
    "modules/axruntime",
    "modules/axsync",
    "modules/axtask",
    "modules/bump_allocator",
    "modules/riscv_vcpu",

    "api/axfeat",
    "api/arceos_api",
    "api/arceos_posix_api",

    "ulib/axstd",
    "ulib/axlibc",

    "payload/origin",
    "payload/skernel",
    "payload/skernel2",

    "tour/u_1_0",
    "tour/u_2_0",
    "tour/u_3_0",
    "tour/u_4_0",
    "tour/u_5_0",
    "tour/u_6_0",
    "tour/u_6_1",
    "tour/u_7_0",
    "tour/u_8_0",
    "tour/u_9_0",
    "tour/u_10_0",
    "tour/u_11_0",
    "tour/m_1_0",
    "tour/m_1_1",
    "tour/m_2_0",
    "tour/m_3_0",
    "tour/m_3_1",
    "tour/h_1_0",
    "tour/h_2_0",
    "tour/h_3_0",
    "tour/h_4_0",

    "exercises/print_with_color",
    "exercises/support_hashmap",
    "exercises/alt_alloc",
    "exercises/sys_map",
    "exercises/simple_hv",
    "exercises/ramfs_rename", "tour/u_12_0", 
]
[workspace.package]
version = "0.1.0"
authors = ["Yuekai Jia <equation618@gmail.com>"]
license = "GPL-3.0-or-later OR Apache-2.0 OR MulanPSL-2.0"
homepage = "https://github.com/arceos-org/arceos"
documentation = "https://arceos-org.github.io/arceos"
repository = "https://github.com/arceos-org/arceos"
keywords = ["arceos", "kernel"]
categories = ["os", "no-std"]

[workspace.dependencies]
axdriver_base = { git = "https://github.com/arceos-org/axdriver_crates.git", tag = "v0.1.0" }
axdriver_block = { git = "https://github.com/arceos-org/axdriver_crates.git", tag = "v0.1.0" }
axdriver_net = { git = "https://github.com/arceos-org/axdriver_crates.git", tag = "v0.1.0" }
axdriver_display = { git = "https://github.com/arceos-org/axdriver_crates.git", tag = "v0.1.0" }
axdriver_input = { git = "https://github.com/arceos-org/axdriver_crates.git", tag = "v0.1.0" }
axdriver_pci = { git = "https://github.com/arceos-org/axdriver_crates.git", tag = "v0.1.0" }
axdriver_virtio = { git = "https://github.com/arceos-org/axdriver_crates.git", tag = "v0.1.0" }

axstd = { path = "ulib/axstd" }
axlibc = { path = "ulib/axlibc" }

arceos_api = { path = "api/arceos_api" }
arceos_posix_api = { path = "api/arceos_posix_api", features = ["fs", "fd"] }
axfeat = { path = "api/axfeat" }

axalloc = { path = "modules/axalloc" }
alt_axalloc = { path = "modules/alt_axalloc" }
axconfig = { path = "modules/axconfig" }
axdisplay = { path = "modules/axdisplay" }
axdriver = { path = "modules/axdriver" }
axinput = { path = "modules/axinput" }
axfs = { path = "modules/axfs" }
axhal = { path = "modules/axhal" }
axlog = { path = "modules/axlog" }
axmm = { path = "modules/axmm" }
axnet = { path = "modules/axnet" }
axruntime = { path = "modules/axruntime" }
axsync = { path = "modules/axsync" }
axtask = { path = "modules/axtask" }
axdma = { path = "modules/axdma" }
elf = { path = "modules/elf" }
axfs_ramfs = { path = "./axfs_ramfs" }

[patch.crates-io]
kernel_guard = { path = "../crates/kernel_guard"} 
#lvgl-sys = { path = "../../libs/lvgl-sys" } 

[patch."https://github.com/arceos-org/axdriver_crates.git"]
axdriver_base = { path = "./modules/axdriver_crates/axdriver_base/" }
axdriver_input = { path = "./modules/axdriver_crates/axdriver_input/" }
axdriver_virtio = { path = "./modules/axdriver_crates/axdriver_virtio/" }

[profile.release]
lto = true
